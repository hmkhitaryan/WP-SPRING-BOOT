<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Edit the account</title>
    <link rel="stylesheet" th:href="@{/bootstrap.min.css}"/>
    <link rel="stylesheet" th:href="@{/common.css}"/>

    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
</head>

<body>
<div class="pull-right" style="padding-right:50px">
    <a href="?language=en">English</a>|<a href="?language=fr">French</a>
</div>

<div class="container">
    <form id="logoutForm" method="POST" th:action="@{'/logout'}">
        <input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}"/>
    </form>

    <form method="post" th:object="${userForm}" class="form-signin">

        <h2 class="form-signin-heading" th:text="#{account.edit.label}"></h2>

        <div class="form-group" th:classappend="${#fields.hasErrors('firstName')} ? 'has-error'">
            <input type="text" th:field="*{firstName}" class="form-control" placeholder="First name" autofocus="autofocus"/>
        </div>

        <div class="form-group" th:classappend="${#fields.hasErrors('lastName')} ? 'has-error'">
            <input type="text" th:field="*{lastName}" class="form-control" placeholder="Last name" autofocus="autofocus"/>
        </div>

        <div class="form-group" th:classappend="${#fields.hasErrors('email')}? 'has-error'">
            <input type="text" th:field="*{email}" class="form-control" placeholder="Email" autofocus="autofocus"/>
            <div id="ajaxGetEmailResponse" class="form-group has-error"></div>
        </div>

        <div class="form-group"  th:classappend="${#fields.hasErrors('skypeID')}? 'has-error'">
            <input type="text" th:field="*{skypeID}" class="form-control" placeholder="Skype ID" autofocus="autofocus"/>
        </div>

        <div class="form-group" th:classappend="${#fields.hasErrors('password')}? 'has-error'">
            <input type="password" th:field="*{password}" class="form-control" placeholder="New password (between 8 and 32 symbol)" autofocus="autofocus"/>
        </div>

        <span class="well pull-left">
            <a th:href="@{'/add/document/' + ${userForm.id}}" th:text="#{document.upload.text}"
               class="btn btn-primary btn-sm"></a>
        </span>

        <button class="btn btn-lg btn-primary btn-block" type="submit" th:text="#{button.submit.label}"></button>

        <h3><a onclick="document.forms['logoutForm'].submit()" th:text="#{button.logout.label}"></a></h3>
    </form>

</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script type="text/javascript" th:src="@{/js/bootstrap.min.js/}"></script>
</body>
</html>
